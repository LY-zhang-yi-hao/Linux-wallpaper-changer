[Unit]
# ğŸ¨ è‡ªåŠ¨å£çº¸æ›´æ¢æœåŠ¡
Description=Automatic Wallpaper Changer Service
Documentation=Custom wallpaper rotation service for zyh
After=graphical-session.target

[Service]
# æœåŠ¡ç±»å‹ï¼šoneshotè¡¨ç¤ºæ‰§è¡Œä¸€æ¬¡å°±ç»“æŸ
Type=oneshot

# ç”¨æˆ·å’Œç»„è®¾ç½®ï¼ˆç”¨æˆ·æœåŠ¡ä¸éœ€è¦æŒ‡å®šUserå’ŒGroupï¼‰
# User=%i
# Group=%i

# ç¯å¢ƒå˜é‡è®¾ç½®ï¼ˆé‡è¦ï¼šç¡®ä¿å›¾å½¢ç•Œé¢ç›¸å…³çš„ç¯å¢ƒå˜é‡å¯ç”¨ï¼‰
Environment="DISPLAY=:0"
Environment="XDG_RUNTIME_DIR=/run/user/1000"

# æ‰§è¡Œçš„å‘½ä»¤
ExecStart=/home/zyh/Desktop/WallpaperChanger/wallpaper_changer.sh

# å·¥ä½œç›®å½•
WorkingDirectory=/home/zyh

# æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—
StandardOutput=append:/home/zyh/.wallpaper_service.log
StandardError=append:/home/zyh/.wallpaper_service.log

# å®‰å…¨è®¾ç½®
NoNewPrivileges=true
PrivateTmp=true

[Install]
# å®‰è£…åˆ°ç”¨æˆ·ä¼šè¯ç›®æ ‡
WantedBy=default.target
